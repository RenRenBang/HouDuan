<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soecode.lyf.dao.CorderDao">

	<insert id="addCorder" parameterType="com.soecode.lyf.entity.Corder">
		insert into corder(
			type,
			trade,
			uid,
			start_time,
			end_time,
			title,
			money,
			odescribe,
			ophoto_path,
			address,
			ocount,
			is_valid
		)value(
			#{type},
			#{trade},
			#{uid},
			now(),
			#{endTime},
			#{title},
			#{money},
			#{odescribe},
			#{ophotoPath},
			#{address},
			#{ocount},
			#{isValid}
		)
	</insert>
	
	
	<select id = "queryCorderBy" resultType="com.soecode.lyf.entity.Corder">
		select *
        from corder
        where 1=1  
        <if test="type != '' and type != null">  
            and type=#{type}  
        </if>  
        <if test="trade != '' and trade != null">  
            and trade=#{trade}  
        </if>  
        <if test="title != '' and title != null">  
            and title like CONCAT('%', #{title}, '%')
        </if>  
	</select>
</mapper>
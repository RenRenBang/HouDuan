<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soecode.lyf.dao.CuserDao">
	<!-- 目的：为dao接口方法提供sql语句配置 -->
	<!-- public Cuser login(Cuser user); -->
	<select id="login" resultType="com.soecode.lyf.entity.Cuser">
		select * from cuser 
		where 
		uphone = #{param1} 
		and 
		password = #{param2}
	</select>
	
	<!-- int addcuser(Cuser cuser); -->
	<insert id="addCuser" parameterType="com.soecode.lyf.entity.Cuser">
		insert into cuser(
		uphone,
		name,
		nickname,
		id_number,
		image,
		photo_path,
		password,
		profile
		)values(#{uphone},#{name},#{nickname},#{idNumber},#{image},#{photoPath},#{password},#{profile})
	</insert>
	
	<!-- void updatecuser(Cuser cuser); -->
	<update id="updateCuser">
		update cuser set
		uphone=#{uphone},
		name=#{name},
		nickname=#{nickname},
		id_number=#{idNumber},
		image=#{image},
		photo_path=#{photoPath},
		password=#{password},
		profile=#{profile}
		where uid = #{uid}
	</update>
	<!-- Cuser findByid(int uid); -->
	<select id="findByid" resultType="com.soecode.lyf.entity.Cuser">
		select * from cuser 
		where 
		uid = #{uid}
	</select>
	
	<!-- findCuserByPhone -->
	<select id="findCuserByPhone" resultType="com.soecode.lyf.entity.Cuser">
		select * from cuser 
		where 
		uphone = #{uphone}
	</select>
	
	<!-- void updateImgeById(int uid,String image); -->
	<update id="updateImgeById">
		update cuser set
		image=#{image}
		where uid = #{uid}
	</update>
	
	
</mapper>